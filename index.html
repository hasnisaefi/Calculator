<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="index.css" />

</head>

<body>
  <div class="calculator">
    <div class="display">
      <input type="text" placeholder="0" id="input" disabled />
    </div>
    <div class="buttons">
      <input type="button" value="C" id="clear" />

      <input type="button" value="DEL" id="erase" />
      <input type="button" value="/" class="input-button" />
      <input type="button" value="*" class="input-button" />

      <input type="button" value="7" class="input-button" />
      <input type="button" value="8" class="input-button" />
      <input type="button" value="9" class="input-button" />
      <input type="button" value="-" class="input-button" />

      <input type="button" value="6" class="input-button" />
      <input type="button" value="5" class="input-button" />
      <input type="button" value="4" class="input-button" />
      <input type="button" value="+" class="input-button" />

      <input type="button" value="1" class="input-button" />
      <input type="button" value="2" class="input-button" />
      <input type="button" value="3" class="input-button" />

      <input type="button" value="=" id="equal" />
      <input type="button" value="0" class="input-button" />
      <input type="button" value="." class="input-button" />

    </div>

  </div>
</body>
<script>

  let equal_pressed = 0;
  // Mengakses semua tombol kecuali C dan DEL
  let button_input = document.querySelectorAll(".input-button");
  // querySelectorAll => mengambil semua elemen 
  // querySelector => mengambil satu elemen saja

  // acces input, equal, clear, and erase
  let input = document.getElementById("input")
  let equal = document.getElementById("equal")
  let clear = document.getElementById("clear")
  let erase = document.getElementById("erase")

  window.onload = () => {
    // onload => event ketika suatu objek selesai dimuat (di-load) dan menampilkan seluruh elemen HTML pada browser.
    input.value = ""
  }

  // Mengakses kelas each menggunakan forEach
  // forEach() => perulangan dari jumlah element array. 
  button_input.forEach((button_class) => {
    button_class.addEventListener("click", () => {
      if (equal_pressed == 1) {
        input.value = ""
        equal_pressed = 0
      }
      // menampilkan nilai dari setiap yang di klik
      input.value += button_class.value;
    });
  });

  // menyelesaikan yang di masukkan pengguna saat diklik tanda sama dengan
  equal.addEventListener("click", () => {
    // addEventListener => method yang berfungsi untuk membuat event (click, change, dll) 
    equal_pressed = 1;
    let inp_val = input.value;
    try {
      // mengevaluasi inputan pengguna
      let solution = eval(inp_val);

      if (Number(solution)) {
        input.value = solution.toFixed();
      }
    }
    // jika user salah memasukkan input
    catch (err) {
      alert("Invalid input")
    }
  });

  // menghapus seluruh inputan
  clear.addEventListener("click", () => {
    input.value = ""
  });

  // menghapus
  erase.addEventListener("click", () => {
    input.value = input.value.substring(0, input.value.lenght - 1 );
  });

</script>

</html>